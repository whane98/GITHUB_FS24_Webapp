
- schriftgrössen überall gleich oder sinnvoll
- menu onclick transition zu kreuz, wenn im menu und auf kreuz klicken = zur letzten seite zurück.
- meta tags gem cyklingk
- poppins auf webserver installieren, google verlinkungen in allen skripten (.php, .html) entfernen
- alle-dokumente (.php, .html, .js) in englisch (kommentare und class sowie ids) -> ai verwenden
- alles responsive
- fehler in konsole auf jeder seite weg. geht sicher 3-4h.
- abstand schweizerkarte zu rechts gleich wie menu oben rechts. feinarbeit, mittels bg-color herausfinden und allenfalls gleicher padding-right nehmen
- code validieren








aus script.js für sonnenscheindauer

// Fetch data from the URL
fetch(`https://164933-4.web.fhgr.ch/IM4_Meteo/04_unload.php${city}`)
  .then(response => {
    // Check if the response is successful (status code 200)
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    // Parse the JSON response
    return response.json();
  })
  .then(data => {
    // Extract time and sunshine duration data from the JSON response
    const timeData = data.time;
    const sunshineDurationData = data.sunshineDuration;  // Adjust this according to your JSON structure

    // Create a new Chart instance for Sunshine Duration
    const ctxSunshine = document.getElementById('sonnenscheindauer').getContext('2d');
    const sunshineChart = new Chart(ctxSunshine, {
      type: 'line',
      data: {
        labels: timeData, // Time data for x-axis
        datasets: [{
          label: 'Sonnenscheindauer (Stunden)',
          data: sunshineDurationData, // Sunshine Duration data for y-axis
          borderColor: '#259ED2',
          borderWidth: 2,
          fill: false,
          pointRadius: 0 // Applies rounded points on the line chart
        }]
      },
      options: {
        responsive: true,
        scales: {
          xAxes: [{
            type: 'time',
            time: {
              parser: 'MM-DD HH:mm',
              tooltipFormat: 'MM-DD HH:mm:ss',
              unit: 'hour',
              displayFormats: {
                hour: 'HH:mm'
              },
              stepSize: 1
            },
            scaleLabel: {
              display: true,
              labelString: 'Time'
            }
          }],
          yAxes: [{
            scaleLabel: {
              display: true,
              labelString: 'Sonnenscheindauer (Stunden)'
            }
          }]
        },
        title: {
          display: true,
          text: 'Sonnenschein Dauer Chart'
        }
      }
    });
  })
  .catch(error => {
    // Log any errors that occur during the fetch operation
    console.error('There was a problem with the fetch operation:', error);
  });














aus script.js für temperatur chart (generell, nicht stadtbezogen)

// Fetch data from the URL
fetch(`https://164933-4.web.fhgr.ch/IM4_Meteo/04_unload.php${city}`)
  .then(response => {
    // Check if the response is successful (status code 200)
    if (!response.ok) {
      throw new Error('Network response was not ok');
    }
    // Parse the JSON response
    return response.json();
  })
  .then(data => {
    // Extract time and temperature data from the JSON response
    const timeData = data.time;
    const temperatureData = data.temperature;

    // Create a new Chart instance
    const ctx = document.getElementById('temperatureChart').getContext('2d');
    const temperatureChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: timeData, // Time data for x-axis
        datasets: [{
          label: 'Temperatur (°C)',
          data: temperatureData, // Temperature data for y-axis
          borderColor: '#259ED2',
          borderWidth: 2,
          fill: false,
          pointRadius: 0 // Applies rounded points on the line chart
        }]
      },
      options: {
        responsive: true,
        scales: {
          xAxes: [{
            type: 'time',
            time: {
              parser: 'MM-DD HH:mm',
              tooltipFormat: 'MM-DD HH:mm:ss',
              unit: 'hour',
              displayFormats: {
                hour: 'HH:mm'
              },
              stepSize: 1
            },
            scaleLabel: {
              display: true,
              labelString: 'Time'
            }
          }],
          yAxes: [{
            scaleLabel: {
              display: true,
              labelString: 'Temperatur (°C)'
            }
          }]
        },
        title: {
          display: true,
          text: 'Temperatur'
        }
      }
    });
  })
  .catch(error => {
    // Log any errors that occur during the fetch request
    console.error('There was a problem with the fetch operation:', error);
  });















// aus 03_load.php: -> wird glaub nicht mehr gebraucht
$weatherData = [
    'temperature' => 25, // Example temperature value
    'weather-condition' => 'Sunny', // Example weather condition
    'sunshine-duration' => '5 hours', // Example sunshine duration
];


// code yannick für weather_update.php = nur sicherung, jetzt unnötig, da bereits eine andere funktionierende variante
<?php
// Include database configuration and connection setup
require_once '00_config.php';

// Function to fetch latest weather data from the database
try {
    // Connect to database
    $pdo = new PDO('mysql:host=' . $db_host . ';dbname=' . $db_name, $db_user, $db_pass);
    // Set pdo error mode for error handling
    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);

    // Get data from database
    $stmt = $pdo->prepare("SELECT temperature, weather_condition, sunshine_duration FROM Weather_API_IM4 ORDER BY id DESC LIMIT 1");
    $stmt->execute();
    return $stmt->fetch(PDO::FETCH_ASSOC);

    // Error handling
    if(empty($weatherdata)){
        echo json_encode(['error' => 'No weather data found']);
        return;
    };

    // Initialize arrays to hold the time and temperature values
    $temperature = [];
    $sunshineDuration = [];
    $weatherCondition = [];

    // Iterate over each item in $weather_data array and add it to the corresponding array
    foreach ($weatherdata as $item) {
        $temperature[] = $item['temperature'];
        $sunshineDuration[] = $item['sunshine_duration'];
        $weatherCondition[] = $item['weather_condition'];
    }

    // Structure the array
    $data = [
        'temperature' => $temperature,
        'sunshineDuration' => $sunshineDuration,
        'weatherCondition' => $weatherCondition
    ];

    // Return the array
    header('Content-Type: application/json');
    echo json_encode($data);

} catch (\Throwable $th) {
    // Error handling
    error_log($th->getMessage());
    throw new Exception($th->getMessage());
}
