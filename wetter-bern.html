<!DOCTYPE html>
<html lang="de">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wetter Bern</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap">
    <link rel="apple-touch-icon" sizes="180x180" href="favicon-180px.webp">
    <link rel="shortcut icon" href="favicon.svg">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> <!-- Include Chart.js library -->
</head>

<body>

    <div class="content-wrapper">
        <header class="statistik-large-div">
            <div class="menu-div">
                <img id="menu-img" src="img/menu.svg">
            </div>
            <div class="title-div" id="title-h1">
                <h1>BERN</h1>
            </div>
            <div class="menu-div">
                <a href="menu.html"><img id="menu-img" src="img/menu.svg"></a>
            </div>
        </header>

        <div class="main-div">

            <div class="facts">
                <p>Sonnenschein</p>
                <p class="facts-p-fine" id="sunshine-bern">Text</p><br>
                <p>Wetter</p>
                <p class="facts-p-fine" id="weather-bern">Text</p><br>
                <p>Temperatur</p>
                <p class="facts-p-fine" id="temperature-bern">Text</p><br><br>
                <a href="statistik-bern.html"><button id="statistik-button">Zur Statistik</button></a>
            </div>

            <div class="switzerland">
                <img id="switzerland-img" src="img/deutschschweiz_mit_punkten-01.webp">
            </div>

        </div>
    </div>

    <script>

        // change-image-on-hover ---------------------------------------------------------------------------------------------
        document.addEventListener('DOMContentLoaded', function () {
            const imgElement = document.getElementById('switzerland-img');

            imgElement.addEventListener('mouseover', function () {
                this.src = 'img/deutschschweiz_weiss-01.webp'; // the new image that appears on hover
            });

            imgElement.addEventListener('mouseout', function () {
                this.src = 'img/deutschschweiz_mit_punkten-01.webp'; // original image
            });
        });

        // fill in the 3 facts in german ---------------------------------------------------------------------------------------------
        document.addEventListener("DOMContentLoaded", function () {
            fetch('/weather_update.php') // Adjust the path to your PHP script
                .then(response => response.json())
                .then(data => {
                    const bernData = data['Bern'];

                    if (bernData.error) {
                        console.error('No data for Bern:', bernData.error);
                    } else {
                        // Translation mapping for weather conditions
                        const weatherTranslations = {
                            'sunny': 'Sonnig',
                            'cloudy': 'Bewölkt',
                            'rainy': 'Regnerisch',
                            'snowy': 'Schnee',
                            'foggy': 'Nebelig',
                            'windy': 'Windig',
                            'stormy': 'Stürmisch'
                        };

                        const sunshineText = `${bernData.sunshine_duration} Stunden`;
                        const weatherText = weatherTranslations[bernData.weather_condition] || bernData.weather_condition;
                        const temperatureText = `${bernData.temperature} °C`;

                        document.getElementById('sunshine-bern').textContent = sunshineText;
                        document.getElementById('weather-bern').textContent = weatherText;
                        document.getElementById('temperature-bern').textContent = temperatureText;
                    }
                })
                .catch(error => console.error('Error fetching data:', error));
        });

    </script>
</body>

</html>